# 七夕

- 角色
  女主角：轻柔
  男主角：耽雪
  中间人：留情

- 传纸条 暧昧
  请求request：耽雪  -->  留情  -->  轻柔
  响应response：轻柔  -->  留情  -->  耽雪

- 风险
  1. 留情一定会传， 否则事情败露
    内容修改 留情代替轻柔，拒绝耽美  --> http 不安全
    http 信息易泄露，弹窗广告  -->  网络挟持
    index.html iframe src(广告链接)...
  2. 内容偷窥
  3. 正常传递 复制内容 并转发

- https：先非对称加密后对称加密（不再传输密码）
  1. AES加密 --> 对称加密
  接收方轻柔 通过传过来的密码 对内容进行解密 获取内容
  无效果 中间人留情 亦可获得密码进行解密 更改内容
  2. 非对称加密
  每一个用户都有一个公钥和私钥
  公钥：别人使用
  私钥加密后的密文，只要是公钥，都可以解密，但是公钥加密后的密文，只有私钥可以解密。私钥只有一个人有，而公钥可以发给所有的人
- 过程
  非对称加密：
  1. 耽美 公钥加密后的密文 给 轻柔 私钥可以解密
  2. 轻柔 公钥加密后的密文(密文包含私钥) 给 耽美 私钥可以解密
  对称加密：
  3. 耽美 用轻柔的私钥加密(密文包含私密) 给轻柔
  4. 轻柔 用耽美的私钥加密 给耽美

## http

- 简介
    超文本传输协议HTTP协议被用于在Web浏览器和网站服务器之间传递信息，HTTP协议以明文方式发送内容，不提供任何方式的数据加密，如果攻击者截取了Web浏览器和网站服务器之间的传输报文，就可以直接读懂其中的信息，因此，HTTP协议不适合传输一些敏感信息，比如：信用卡号、密码等支付信息。

## https

- 简介
    安全套接字层超文本传输协议HTTPS，为了数据传输的安全，HTTPS在HTTP的基础上加入了SSL/TLS协议，SSL/TLS依靠证书来验证服务器的身份，并为浏览器和服务器之间的通信加密。
- 作用
  1. 一种是建立一个信息安全通道，来保证数据传输的安全
  2. 另一种就是确认网站的真实性
- 解说
  A 用户                           C 不安全行为                            B 网站
  非对称(耗时间耗电)                                            有A的公钥 密码给A 用A的公钥加密
  用私钥得到密码，并用B密码加密 对称加密(瞬间)                              用A的密码解密

## https和http的区别

1. https协议需要到CA申请证书，一般免费证书较少，因而需要一定费用。
2. http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl/tls加密传输协议。
3. http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。
4. http的连接很简单，是无状态的；HTTPS协议是由SSL/TLS+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。

## http 缓存

优先级： 强缓存 > 协商缓存

1. 强缓存
优先级： cache-control > expires
http1.1 cache-control：值为相对时间 eg：当前时间基础上加一个小时内有效

http1.0 expires：值为固定的时间 eg:8:00 即：8:00之前有效
电脑本地时间可更改，故不适合用expires的固定时间

请求： 不发请求，直接走缓存
若时间未过，即缓存仍有效，直接读取 返回200： from memory / from disk
2. 协商缓存
优先级：etag > last-modified

<!-- 根据etag判断文件修改更准确 -->
文件：a.js
服务器给etag：'123' md5(a.js)
请求：if-none-match: '123'
服务端判断

  1. req.headers[if-none-match] ? == md5(a.js)
  2. == 304
  3. !== 200 a.js

文件的 hash 值：md5
同样的输入同样的输出

服务：last-modified: 2019-12-12
请求：if-modified-since: 2019-12-12
