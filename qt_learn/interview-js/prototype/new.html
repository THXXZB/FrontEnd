<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
<script>
  function Student() {
    this.age = 40
    // this === s(实例)
  }
  Student.prototype.say = function() {}

  var s = new Student()
  // 结果
  // s = {
  //   age: 40,
  //   __proto__: {
  //     // Student.prototype
  //     say: function() {}
  //   }
  // }
  function myNew(constructor, ...args) {
    // 1、生成一个对象
    let obj = {}
    // this 属性
    let result = constructor.apply(obj, args)
    // prototype
    obj.__proto__ = constructor.prototype
    // 返回一个对象
    return typeof result === 'object' ? result : obj
  }
  var s1 = myNew(Student)
  console.log(s1)
</script>
</body>
</html>