<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    /* 继承 父元素 box-sizing属性的值 */
    *,
    *:before,
    *:after {
      box-sizing: inherit;
    }

    body {
      box-sizing: border-box;
      background: #ffc600;
      font-size: 20px;
      font-weight: 200;
    }

    .panels {
      min-height: 100vh;
      overflow: hidden;
      display: flex;
    }

    /* 属性定义当元素不面向屏幕时是否可见。 */
    .panel {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      color: #00F;
      font-size: 20px;
      background-size: cover;
      background-position: center;
      transition:
        font-size 0.7s cubic-bezier(0.02, 0.57, 1, 0.43),
        flex 0.7s cubic-bezier(0.02, 0.57, 1, 0.43),
        background 0.2s;
    }

    .panel1 {
      background-image: url(https://images.unsplash.com/photo-1482049016688-2d3e1b311543?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=353&q=80)
    }

    .panel2 {
      background-image: url(https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=334&q=80)
    }

    .panel3 {
      background-image: url(https://images.unsplash.com/photo-1478145046317-39f10e56b5e9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=334&q=80)
    }

    .panel4 {
      background-image: url(https://images.unsplash.com/photo-1506084868230-bb9d95c24759?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=334&q=80)
    }

    .panel5 {
      background-image: url(https://images.unsplash.com/photo-1532980400857-e8d9d275d858?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1534&q=80)
    }

    .panel>* {
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      /* 默认: flex: 0 1 auto (flex-grow flex-shrink flex-basis(子元素的基准值))*/
      /* flex取值是一个长度或百分比 60%，200px：则该数值是flex-basis的值。 */
      /* flex取值是2个非负数字（2，3），则分别视为flex-grow和flex-shrink的值。flex-basis取值0%。（2 3 0%）； */
      /* flex 取值是1个非负数字一个百分比(长度)(2 200px)，则flex-grow 和 flex-shrink的值是非负数字的值。(2 2 200px) */
      /* https://blog.csdn.net/weixin_30472035/article/details/99993236 */
      flex: 1 0 auto;
      transition: transform 0.5s;
    }

    .panel>*:first-child {
      transform: translateY(-100%);
    }

    .panel.open>*:first-child {
      transform: translateY(0);
    }

    .panel>*:last-child {
      transform: translateY(100%);
    }

    .panel.open>*:last-child {
      transform: translateY(0);
    }

    .panel p {
      text-transform: uppercase;
      font-family: 'Amatic SC', cursive;
      font-size: 2em;
    }

    .panel p:nth-child(2) {
      font-size: 4em;
    }

    .panel.open {
      flex: 5;
    }
  </style>
  <title>Document</title>
</head>

<body>
  <div class="panels">
    <div data-flag='false' class="panel panel1">
      <p>Hey</p>
      <p>let's</p>
      <p>Dance</p>
    </div>

    <div data-flag='false' class="panel panel2">
      <p>Give</p>
      <p>Take</p>
      <p>Receive</p>
    </div>

    <div data-flag='false' class="panel panel3">
      <p>Experience</p>
      <p>it</p>
      <p>Today</p>
    </div>

    <div data-flag='false' class="panel panel4">
      <p>Give</p>
      <p>All</p>
      <p>You can</p>
    </div>

    <div data-flag='false' class="panel panel5">
      <p>Life</p>
      <p>in</p>
      <p>motion</p>
    </div>

  </div>
  <script>
    const panels = document.querySelectorAll('.panel');
    function open() {
      if (this.getAttribute('data-flag') == 'false') {
        this.classList.add('open')
        this.setAttribute('data-flag', 'true')
      } else {
        this.classList.remove('open')
        this.setAttribute('data-flag', 'false')
      }
    }
    panels.forEach(panel => panel.addEventListener('click', open));
    // 过渡事件触发 - 过渡已完成
    panels.forEach(panel => panel.addEventListener('transitionend', () => {
      console.log('transitioned')
    }));
  </script>
</body>

</html>